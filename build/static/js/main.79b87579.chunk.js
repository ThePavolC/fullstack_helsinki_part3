(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),o=t.n(u),c=t(14),l=t(2),i=function(e){var n=e.persons,t=e.onDeleteHandler;return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("div",{key:e.name},e.name," ",e.number,r.a.createElement("button",{onClick:function(){return t(e)}},"delete"))})))},m=function(e){var n=e.filterWord,t=e.onChangeFilterHandler;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"filter"},"filter shown with: "),r.a.createElement("input",{id:"filter",onChange:t,value:n}))},s=function(e){var n=e.onSubmitHandler,t=e.newName,a=e.onChangeNameHandler,u=e.newNumber,o=e.onChangeNumberHandler;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"name: "),r.a.createElement("input",{id:"name",onChange:a,value:t})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"number"},"number: "),r.a.createElement("input",{id:"number",onChange:o,value:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},f=t(3),d=t.n(f),b="success",h="failure",E=function(e){var n=e.notification,t=n.message,a=n.status;if(null===t)return null;var u=["notification"];switch(a){case"success":u.push(b);break;case"failure":u.push(h)}return r.a.createElement("div",{className:u.join(" ")},t)},g="/api/persons",p=function(){return d.a.get(g).then((function(e){return e.data}))},v=function(e,n){return d.a.post(g,e).then((function(e){return e.data})).then((function(e){return n({message:"Added ".concat(e.name),status:b}),e})).finally((function(){setTimeout((function(){return n({message:null})}),3e3)}))},w=function(e,n,t){return d.a.put("".concat(g,"/").concat(e),n).then((function(e){return e.data})).then((function(e){return t({message:"Number of ".concat(e.name," updated"),status:b}),e})).finally((function(){setTimeout((function(){return t({message:null})}),3e3)}))},j=function(e,n){return d.a.delete("".concat(g,"/").concat(e.id)).then((function(t){return n({message:"Person ".concat(e.name," was deleted"),status:b}),t.data}),(function(t){n({message:"Information of ".concat(e.name," has already been removed from server"),status:h})})).finally((function(){setTimeout((function(){return n({message:null})}),3e3)}))},C=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(""),f=Object(l.a)(o,2),d=f[0],b=f[1],h=Object(a.useState)(""),g=Object(l.a)(h,2),C=g[0],O=g[1],N=Object(a.useState)(""),H=Object(l.a)(N,2),k=H[0],S=H[1],y=Object(a.useState)({message:null}),F=Object(l.a)(y,2),D=F[0],T=F[1],A=function(){return p().then((function(e){u(e)}))};Object(a.useEffect)((function(){A()}),[]);var I=t.filter((function(e){return!k||e.name.toLowerCase().includes(k.toLowerCase())})),J={onSubmitHandler:function(e){if(e.preventDefault(),t.find((function(e){return e.name===d}))){if(window.confirm("".concat(d," is already added to the phonebook, replace the old number with a new one ?"))){var n=t.find((function(e){return e.name===d}));return void w(n.id,Object(c.a)({},n,{number:C}),T).then((function(){return A()})).then((function(){b(""),O("")}))}}else v({name:d,number:C},T).then((function(e){u(t.concat(e)),b(""),O("")}))},newName:d,onChangeNameHandler:function(e){b(e.target.value)},newNumber:C,onChangeNumberHandler:function(e){O(e.target.value)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{notification:D}),r.a.createElement(m,{filterWord:k,onChangeFilterHandler:function(e){S(e.target.value)}}),r.a.createElement("h2",null,"Add a new"),r.a.createElement(s,J),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{persons:I,onDeleteHandler:function(e){window.confirm("Delete ".concat(e.name,"?"))&&j(e,T).then((function(){return A()}))}}))};t(37);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.79b87579.chunk.js.map